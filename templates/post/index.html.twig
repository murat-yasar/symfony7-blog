{% extends 'base.html.twig' %}

{% block title %}Posts{% endblock %}

{% block body %}
    <h1 class="m-5 text-[3.5rem] font-bold leading-[4rem] tracking-tight text-black">Posts</h1>

    <div class="border border-gray-300 rounded-lg justify-items-center">
        <table class="w-full m-5 text-left table-auto">
            <thead>
                <th class="p-4 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100">Title</th>
                <th class="p-4 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100">Content</th>
                <th class="p-4 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100">Date</th>
            </thead>
            <tbody>
                {% for post in posts %}
                    <tr>
                        <td class="p-4 border-b border-slate-200">
                            <a class="underline text-blue-600" href="{{ path('post_show', {'id' : post.id }) }}">
                                {{ post.title|slice(0, 30) }}{% if post.title|length > 30 %}…{% endif %}
                            </a>
                        </td>
                        <td class="p-4 border-b border-slate-200">
                         {{ post.content|slice(0, 80) }}{% if post.content|length > 80 %}…{% endif %}
                        </td>
                        <td class="p-4 border-b border-slate-200">
                            {{ post.date|date('Y-m-d') }}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
